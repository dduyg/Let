<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Liminal‚è≥Ô∏èLoop</title>
  <link href="https://fonts.googleapis.com/css2?family=Intel+One+Mono&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Bahiana&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; }
    html, body {
      margin: 0;
      padding: 0;
      max-width: 100vw;
      overflow: hidden;
    }
    body {
      font-family: "Intel One Mono", monospace;
      background-color: rgb(255, 255, 200);
      color: rgb(10, 10, 10);
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      font-size: clamp(0.8rem, 1.5vw, 1rem);
      position: relative;
      z-index: 10;
    }
    body::after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
      background-image: repeating-linear-gradient(transparent, transparent 2px, #0000002d 4px);
      background-size: auto 100%;
      pointer-events: none;
      z-index: -1;
    }
    a {
      text-decoration: none;
      color: inherit;
    }

    .grid-container {
      display: flex;
      flex-direction: column;
      gap: 0;
      width: 90vw;
      position: relative;
      counter-reset: item 0;
    }
    .grid-container::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgb(255, 255, 200);
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 250 250' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='4' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
      opacity: 0.5;
      z-index: 100;
      pointer-events: none;
      mix-blend-mode: overlay;
    }

    .list__item {
      cursor: pointer;
      display: grid;
      grid-template-columns: 40px repeat(4, minmax(120px, 1fr));
      gap: 1rem;
      align-items: center;
      width: 100%;
    }
    .list__item::before {
      content: counter(item, decimal-leading-zero);
      counter-increment: item;
      padding: 4px 0;
      line-height: 0.8;
    }
    .list__item:hover .hover-effect--bg::after {
      transform: scaleX(1);
    }
    .list__item-col {
      min-width: 0;
      word-break: break-word;
      white-space: normal;
    }

    .hover-effect {
      position: relative;
      white-space: nowrap;
      text-decoration: none;
      color: rgb(10, 10, 10);
      z-index: 1;
    }
    .hover-effect--bg {
      transition: background-color 0.3s ease;
    }
    .hover-effect--bg::after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #e3ff00;
      transition: transform 0.3s ease;
      transform: scaleX(0);
      transform-origin: left;
      z-index: -1;
      mix-blend-mode: difference;  
      backdrop-filter: blur(0px);
      -webkit-backdrop-filter: blur(0px);
    }

    .fixed-grid {
      position: fixed;
      display: grid;
      grid-template-columns: 1fr 1fr;
      grid-template-rows: 1fr 1fr;
      gap: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      padding: 1rem 2rem 25% 2rem;
    }
    .fixed-item {
      padding: 8px;
      pointer-events: auto;
    }
    .square {
      background-color: rgb(10, 10, 10);   
      width: 7px;
      height: 7px;
      margin-top: 15px;
    }

    .top-left { grid-column: 1 / 2; grid-row: 1 / 2; align-self: start; justify-self: start; }
    .top-right { grid-column: 2 / 3; grid-row: 1 / 2; align-self: start; justify-self: end; font-family: "Bahiana", sans-serif; font-size: 1.9em;}
    .bottom-left { grid-column: 1 / 2; grid-row: 2 / 3; align-self: end; justify-self: start; }
    .bottom-right { grid-column: 2 / 3; grid-row: 2 / 3; align-self: end; justify-self: end; }

    .blinking { animation: blink 1s steps(1) infinite; }
    @keyframes blink { 50% { opacity: 0; } }
    @-webkit-keyframes blink { 50% { opacity: 0; } }
  </style>
</head>
<body>
  <ul class="grid-container">
    <li class="list__item">
      <a href="#" class="list__item-col hover-effect hover-effect--bg">Start</a>
      <a href="#" class="list__item-col hover-effect hover-effect--bg">Before</a>
      <a href="#" class="list__item-col hover-effect hover-effect--bg">You're</a>
      <a href="#" class="list__item-col hover-effect hover-effect--bg">Ready</a>
    </li>
    <li class="list__item">
      <a href="#" class="list__item-col hover-effect hover-effect--bg">Own</a>
      <a href="#" class="list__item-col hover-effect hover-effect--bg">the</a>
      <a href="#" class="list__item-col hover-effect hover-effect--bg">Moment</a>
      <a href="#" class="list__item-col hover-effect hover-effect--bg">Fully</a>    
    </li>
    <li class="list__item">
      <a href="#" class="list__item-col hover-effect hover-effect--bg">Stay</a>          
      <a href="#" class="list__item-col hover-effect hover-effect--bg">Curious</a>          
      <a href="#" class="list__item-col hover-effect hover-effect--bg">Always</a>          
      <a href="#" class="list__item-col hover-effect hover-effect--bg">Learn</a>
    </li>
    <li class="list__item">
      <a href="#" class="list__item-col hover-effect hover-effect--bg">Pay</a>
      <a href="#" class="list__item-col hover-effect hover-effect--bg">Attention</a>
      <a href="#" class="list__item-col hover-effect hover-effect--bg">to</a>
      <a href="#" class="list__item-col hover-effect hover-effect--bg">Details</a>
    </li>
    <li class="list__item">
      <a href="#" class="list__item-col hover-effect hover-effect--bg">Trust</a>
      <a href="#" class="list__item-col hover-effect hover-effect--bg">the</a>
      <a href="#" class="list__item-col hover-effect hover-effect--bg">Process</a>
      <a href="#" class="list__item-col hover-effect hover-effect--bg">Today</a>
    </li>
    <li class="list__item">
      <a href="#" class="list__item-col hover-effect hover-effect--bg">Breathe</a>
      <a href="#" class="list__item-col hover-effect hover-effect--bg">in</a>
      <a href="#" class="list__item-col hover-effect hover-effect--bg">Power</a>
      <a href="#" class="list__item-col hover-effect hover-effect--bg">Now</a>
    </li>
  </ul>

  <div class="fixed-grid">
    <div class="fixed-item top-left square"></div>
    <div class="fixed-item top-right">
      <a href="#">üéë</a> &nbsp;&nbsp; | &nbsp;&nbsp; <a href="#">(DU≈∂ƒûG)</a>
    </div>
    <div class="fixed-item bottom-left">43.9250¬∞ N, 19.5530¬∞ E</div>
    <div class="fixed-item bottom-right"><span id="current-time"></span></div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://unpkg.com/split-type"></script>
  <script>
    const CONFIG = {
      lettersAndSymbols: "abcdefghijklmnopqrstuvwxyz!@#$%^&*-_+=;:<>,".split(""),
      timeZone: "Europe/Zagreb",
      timeUpdateInterval: 1000
    };

    class TextAnimator {
      #originalChars;
      #splitter;
      constructor(textElement) {
        if (!textElement) throw new Error("Invalid text element.");
        this.textElement = textElement;
        this.#originalChars = [];
        this.#splitText();
      }

      #splitText() {
        this.#splitter = new SplitType(this.textElement, { types: "words, chars" });
        this.#originalChars = this.#splitter.chars.map(c => c.innerHTML);
      }

      animate() {
        this.reset();
        this.#splitter.chars.forEach((char, i) => {
          const original = char.innerHTML;
          gsap.fromTo(char, { opacity: 0 }, {
            duration: 0.03,
            onComplete: () => gsap.set(char, { innerHTML: original, delay: 0.1 }),
            repeat: 2,
            repeatRefresh: true,
            repeatDelay: 0.05,
            delay: (i + 1) * 0.06,
            innerHTML: () => CONFIG.lettersAndSymbols[Math.floor(Math.random() * CONFIG.lettersAndSymbols.length)],
            opacity: 1
          });
        });
        gsap.fromTo(this.textElement, { "--anim": 0 }, { duration: 1, ease: "expo", "--anim": 1 });
      }

      animateBack() {
        gsap.killTweensOf(this.textElement);
        gsap.to(this.textElement, { duration: 0.6, ease: "power4", "--anim": 0 });
      }

      reset() {
        this.#splitter.chars.forEach((char, i) => {
          gsap.killTweensOf(char);
          char.innerHTML = this.#originalChars[i];
        });
        gsap.killTweensOf(this.textElement);
        gsap.set(this.textElement, { "--anim": 0 });
      }
    }

    class AnimationManager {
      constructor() {
        this.animators = new Map();
      }

      initializeAnimations() {
        document.querySelectorAll(".list__item").forEach(item => {
          const animators = Array.from(item.querySelectorAll(".hover-effect")).map(col => new TextAnimator(col));
          this.animators.set(item, animators);
          item.addEventListener("mouseenter", () => animators.forEach(anim => anim.animate()));
          item.addEventListener("mouseleave", () => animators.forEach(anim => anim.animateBack()));
        });
      }
    }

    class TimeDisplay {
      constructor(elementId) {
        this.element = document.getElementById(elementId);
        if (!this.element) throw new Error(`Element #${elementId} not found.`);
      }

      start() {
        this.updateDisplay();
        setInterval(() => this.updateDisplay(), CONFIG.timeUpdateInterval);
      }

      updateDisplay() {
        const now = new Date();
        const options = { timeZone: CONFIG.timeZone, hour: "numeric", minute: "numeric", hour12: true };
        const formatter = new Intl.DateTimeFormat("en-US", options);
        const parts = formatter.formatToParts(now);
        const hours = parts.find(p => p.type === "hour").value;
        const minutes = parts.find(p => p.type === "minute").value;
        const period = parts.find(p => p.type === "dayPeriod").value;
        this.element.innerHTML = `${hours}<span class="blinking">:</span>${minutes} ${period}`;
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      new AnimationManager().initializeAnimations();
      new TimeDisplay("current-time").start();
    });
  </script>
</body>
</html>
